var _slice=Array.prototype.slice;!function(t,e){"function"==typeof define&&define.amd?define(["backbone","underscore"],e):"undefined"!=typeof exports?module.exports=e(require("backbone"),require("underscore")):e(t.Backbone,t._)}(this,function(t,e){function n(t,e){return function(){var n=this._super;this._super=e;var r=t.apply(this,arguments);return this._super=n,r}}function r(t,r){e.forEach(r,function(r,i){var o=t[i],c=s.test(r);t[i]=c&&e.isFunction(r)&&e.isFunction(o)?n(r,o):r})}function i(t,e,n){return n.toUpperCase()}var o={},s=/xyz/.test(function(){return"xyz"})?/\b_super\b/:/.*/,c=o.Class=t.Class=function(){this.initialize.apply(this,arguments)};c.prototype.initialize=e.noop,e.extend(c,{extend:function(t,i){var o,s=this;o=t&&e.has(t,"constructor")?n(t.constructor,s.prototype.constructor):function(){s.apply(this,arguments)},e.extend(o,s),r(o,i);var c=function(){this.constructor=o};return c.prototype=s.prototype,o.prototype=new c,r(o.prototype,t),o.superclass=s,o.__super__=s.prototype,o},mixin:function(t){return r(this.prototype,t),this},include:function(t){return r(this,t),this}});var u=o.Mixin=t.Mixin=function(t){e.extend(this,t)};e.mixin({isClass:function(t){return t&&t.prototype instanceof c},isMixin:function(t){return t&&t instanceof u}});var a=["description","fileName","lineNumber","name","message","number"],p=o.Error=t.Error=c.extend({urlRoot:"http://github.com/thejameskyle/backbone-metal",constructor:function(t,n){void 0===n&&(n={}),e.isObject(t)&&(n=t,t=n.message);var r=Error.call(this,t);e.extend(this,e.pick(r,a),e.pick(n,a)),this.captureStackTrace(),n.url&&(this.url=this.urlRoot+n.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,p)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),h=o.deprecate=t.deprecate=function(t,n){void 0!==n&&n&&(e.isObject(t)&&(t=h._format(t.prev,t.next,t.url)),t=t&&t.toString(),h._cache[t]||(h._warn("Deprecation warning: "+t),h._cache[t]=!0))};h._format=function(t,e,n){return t+" is going to be removed in the future. Please use "+e+" instead."+(n?" See: "+n:"")},"undefined"!=typeof console&&(h._warn=console.warn||console.log),h._warn||(h._warn=e.noop),h._cache={};var l=o.Events=t.Events=new u(t.Events);c.mixin(l);var f=/(^|:)(\w)/gi,d=o.Utils=t.Utils=new u({triggerMethod:function(t){var n,r=_slice.call(arguments,1),o="on"+t.replace(f,i),s=this[o];return e.isFunction(s)&&(n=s.apply(this,r)),e.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n},triggerMethodOn:function(t){var e=_slice.call(arguments,1);return this.triggerMethod.apply(t,e)},getOption:function(t){return this.options&&this.options[t]?this.options[t]:this[t]}});return c.mixin(d),o});
//# sourceMappingURL=backbone-metal.min.js.map