!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],e):t.Metal=e(t._,t.Backbone)}(this,function(t,e){"use strict";function n(t,e){return function(){var n=this._super;this._super=e;var r=t.apply(this,arguments);return this._super=n,r}}function r(e,r){var o,s,c,u,a,p=t.keys(r),f=p.length;for(o=0;f>o;o++)s=p[o],c=r[s],u=e[s],a=i.test(c),e[s]=a&&t.isFunction(c)&&t.isFunction(u)?n(c,u):c}var o=e.Metal={},i=/xyz/.test(new Function("xyz"))?/\b_super\b/:/.*/,s=o.Class=function(){var t;(t=this).initialize.apply(t,arguments)};s.prototype.initialize=t.noop,t.extend(s,{extend:function(e,o){var s,c=this;s=e&&t.has(e,"constructor")?i.test(e.constructor)?n(e.constructor,c.prototype.constructor):e.constructor:function(){c.apply(this,arguments)},t.extend(s,c),o&&r(s,o);var u=function(){this.constructor=s};return u.prototype=c.prototype,s.prototype=new u,e&&r(s.prototype,e),s.superclass=c,s.__super__=c.prototype,s},mixin:function(t){return r(this.prototype,t),this},include:function(t){return r(this,t),this},isClass:function(t){return!!t&&(t instanceof s||t.prototype instanceof s||t===s)}});var c=o.classify=function(n){return o.Class.extend(t.extend({constructor:n},t.omit(n.prototype,t.keys(e.Events))),t.omit(n,t.keys(s)))},u=o.Mixin=function(e){t.extend(this,e)};u.isMixin=function(t){return!!t&&t instanceof u};var a=["description","fileName","lineNumber","name","message","number"],p=o.Error=s.extend.call(Error,{constructor:function(e){var n=void 0===arguments[1]?{}:arguments[1];t.isObject(e)&&(n=e,e=n.message);var r=Error.call(this,e);t.extend(this,t.pick(r,a),t.pick(n,a)),p.captureStackTrace(this,p)},toString:function(){return""+this.name+": "+this.message}},{captureStackTrace:function(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}});t.extend(p,s);var f=o.deprecate=function(e,n){void 0!==n&&n||(t.isObject(e)&&(e=f._format(e.prev,e.next)),e=e&&e.toString(),f._cache[e]||(f._warn("Deprecation warning: "+e),f._cache[e]=!0))};f._format=function(t,e){return""+t+" is going to be removed in the future. Please use "+e+" instead."},f._warn="undefined"!=typeof console&&(console.warn||console.log)||t.noop,f._cache={};var l=o.Events=new u(e.Events);return s.mixin(l),e.Events=l,e.Model=c(e.Model),e.Collection=c(e.Collection),e.View=c(e.View),e.Router=c(e.Router),e.History=c(e.History),o});
//# sourceMappingURL=backbone-metal.min.js.map