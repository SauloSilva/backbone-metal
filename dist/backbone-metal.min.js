!function(t,e){"function"==typeof define&&define.amd?define(["backbone","underscore"],e):"undefined"!=typeof exports?module.exports=e(require("backbone"),require("underscore")):e(t.Backbone,t._)}(this,function(t,e){"use strict";function n(t,e){return function(){var n=this._super;this._super=e;var r=t.apply(this,arguments);return this._super=n,r}}function r(t,r){e.forEach(r,function(r,i){var o=t[i],s=c.test(r);t[i]=s&&e.isFunction(r)&&e.isFunction(o)?n(r,o):r})}function i(t,e,n){return n.toUpperCase()}var o=Array.prototype.slice,s={},c=/xyz/.test(function(){return"xyz"})?/\b_super\b/:/.*/,u=s.Class=t.Class=function(){this.initialize.apply(this,arguments)};u.prototype.initialize=e.noop,e.extend(u,{extend:function(t,i){var o,s=this;o=t&&e.has(t,"constructor")?n(t.constructor,s.prototype.constructor):function(){s.apply(this,arguments)},e.extend(o,s),r(o,i);var c=function(){this.constructor=o};return c.prototype=s.prototype,o.prototype=new c,r(o.prototype,t),o.superclass=s,o.__super__=s.prototype,o},mixin:function(t){return r(this.prototype,t),this},include:function(t){return r(this,t),this}});var a=s.Mixin=t.Mixin=function(t){e.extend(this,t)};e.mixin({isClass:function(t){return!!t&&t.prototype instanceof u},isMixin:function(t){return!!t&&t instanceof a}});var p=["description","fileName","lineNumber","name","message","number"],h=s.Error=t.Error=u.extend.call(Error,{urlRoot:"http://github.com/thejameskyle/backbone-metal",constructor:function(t,n){void 0===n&&(n={}),e.isObject(t)&&(n=t,t=n.message);var r=Error.call(this,t);e.extend(this,e.pick(r,p),e.pick(n,p)),this.captureStackTrace(),n.url&&(this.url=this.urlRoot+n.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,h)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});e.extend(h,u);var f=s.deprecate=t.deprecate=function(t,n){void 0!==n&&n||(e.isObject(t)&&(t=f._format(t.prev,t.next,t.url)),t=t&&t.toString(),f._cache[t]||(f._warn("Deprecation warning: "+t),f._cache[t]=!0))};f._format=function(t,e,n){return t+" is going to be removed in the future. Please use "+e+" instead."+(n?" See: "+n:"")},"undefined"!=typeof console&&(f._warn=console.warn||console.log),f._warn||(f._warn=e.noop),f._cache={};var l=s.Events=t.Events=new a(t.Events);u.mixin(l);var d=/(^|:)(\w)/gi,m=s.Utils=t.Utils=new a({triggerMethod:function(t){var n,r=o.call(arguments,1),s="on"+t.replace(d,i),c=this[s];return e.isFunction(c)&&(n=c.apply(this,r)),e.isFunction(this.trigger)&&this.trigger.apply(this,arguments),n},getOption:function(t){return this.options&&void 0!==this.options[t]?this.options[t]:this[t]}});return u.mixin(m),s});
//# sourceMappingURL=backbone-metal.min.js.map